<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Geoportal Bumiayu Pruwatan ‚Äî Earth Navigation</title>
  <link rel="canonical" href="https://dragon-learn.github.io/geoportal-bumiayu_pruwatan/Beranda/">
  
  <!-- Cosmic Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&family=Exo+2:wght@300;400;600&family=Rajdhani:wght@500;600&display=swap" rel="stylesheet">
  
  <style>
    /* COSMIC EARTH VARIABLES */
    :root {
      --cosmic-deep: #0a0e17;
      --earth-blue: #1e90ff;
      --earth-green: #32cd32;
      --earth-brown: #8b4513;
      --earth-cloud: rgba(255, 255, 255, 0.8);
      --star-light: #ffffff;
      --indonesia-glow: #ff4444;
      --asteroid-color: #8b7355;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
      overflow: hidden;
      font-family: 'Exo 2', sans-serif;
      background: #000000;
      color: var(--star-light);
    }

    /* STARFIELD */
    .starfield {
      position: fixed;
      width: 100%;
      height: 100%;
      z-index: 0;
    }

    .star {
      position: absolute;
      background: white;
      border-radius: 50%;
      animation: twinkle var(--duration) ease-in-out infinite;
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0.3; transform: scale(0.8); }
      50% { opacity: 1; transform: scale(1.1); }
    }

    /* ROTATING EARTH CONTAINER */
    .earth-container {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 500px;
      height: 500px;
      z-index: 1;
      transition: all 3s cubic-bezier(0.2, 0.8, 0.3, 1);
    }

    .earth {
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      background: 
        radial-gradient(circle at 30% 30%, var(--earth-blue) 0%, #0a3d62 70%),
        repeating-radial-gradient(circle at 30% 30%, transparent 0, rgba(32, 178, 170, 0.1) 2px);
      box-shadow: 
        inset 0 0 100px rgba(255, 255, 255, 0.3),
        0 0 100px rgba(30, 144, 255, 0.5);
      overflow: hidden;
      transform-style: preserve-3d;
      animation: rotateEarth 120s linear infinite;
    }

    @keyframes rotateEarth {
      from { transform: rotateY(0deg); }
      to { transform: rotateY(360deg); }
    }

    /* EARTH DETAILS */
    .earth-continent {
      position: absolute;
      background: var(--earth-green);
      border-radius: 50% / 30%;
      opacity: 0.7;
    }

    .earth-cloud {
      position: absolute;
      background: var(--earth-cloud);
      border-radius: 50%;
      filter: blur(2px);
      opacity: 0.3;
    }

    /* INDONESIA HIGHLIGHT */
    .indonesia-highlight {
      position: absolute;
      width: 60px;
      height: 30px;
      background: rgba(255, 68, 68, 0.3);
      border-radius: 50% / 40%;
      top: 52%;
      left: 73%;
      transform: translate(-50%, -50%);
      box-shadow: 
        0 0 40px var(--indonesia-glow),
        inset 0 0 20px rgba(255, 255, 255, 0.5);
      opacity: 0;
      z-index: 2;
      transition: opacity 1s;
    }

    .earth-container.zoom-in .indonesia-highlight {
      opacity: 1;
      animation: pulseIndonesia 2s ease-in-out infinite;
    }

    @keyframes pulseIndonesia {
      0%, 100% { opacity: 0.3; transform: translate(-50%, -50%) scale(1); }
      50% { opacity: 0.7; transform: translate(-50%, -50%) scale(1.1); }
    }

    /* ASTEROIDS */
    .asteroid {
      position: fixed;
      width: var(--size);
      height: var(--size);
      background: radial-gradient(circle at 30% 30%, 
        var(--asteroid-color), 
        #5d4037 70%);
      border-radius: 50%;
      z-index: 3;
      pointer-events: auto;
      cursor: pointer;
      box-shadow: 
        0 0 20px rgba(139, 115, 85, 0.5),
        inset 0 0 10px rgba(255, 255, 255, 0.1);
      transition: all 0.3s;
      transform: rotate(0deg);
    }

    .asteroid::after {
      content: '';
      position: absolute;
      width: 30%;
      height: 30%;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      top: 20%;
      left: 20%;
      filter: blur(1px);
    }

    .asteroid:hover {
      transform: scale(1.2);
      box-shadow: 
        0 0 40px rgba(255, 193, 7, 0.8),
        0 0 80px rgba(255, 193, 7, 0.3);
      filter: brightness(1.5);
    }

    .asteroid-hit {
      animation: asteroidFlyAway 1.5s cubic-bezier(0.2, 0.8, 0.3, 1) forwards !important;
      pointer-events: none;
    }

    @keyframes asteroidFlyAway {
      0% { transform: translate(0, 0) scale(1); opacity: 1; }
      100% { transform: translate(var(--fly-x, 200px), var(--fly-y, -200px)) scale(0); opacity: 0; }
    }

    /* CONTROL PANEL */
    .control-panel {
      position: fixed;
      bottom: 60px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(10, 14, 23, 0.8);
      backdrop-filter: blur(20px);
      border-radius: 20px;
      padding: 30px 50px;
      z-index: 10;
      border: 1px solid rgba(30, 144, 255, 0.3);
      box-shadow: 
        0 20px 60px rgba(0, 0, 0, 0.5),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      text-align: center;
      min-width: 500px;
      transition: opacity 1s;
    }

    .earth-container.zoom-in .control-panel {
      opacity: 0;
      pointer-events: none;
    }

    .panel-title {
      font-family: 'Orbitron', sans-serif;
      font-size: 2rem;
      background: linear-gradient(135deg, var(--star-light) 0%, var(--earth-blue) 100%);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      margin-bottom: 10px;
      letter-spacing: 1px;
    }

    .panel-subtitle {
      font-size: 1.1rem;
      color: rgba(255, 255, 255, 0.8);
      margin-bottom: 30px;
      font-weight: 300;
    }

    /* NAVIGATION CTA */
    .nav-cta {
      display: inline-flex;
      align-items: center;
      gap: 15px;
      background: rgba(10, 14, 23, 0.9);
      color: var(--earth-blue);
      padding: 18px 40px;
      border-radius: 12px;
      text-decoration: none;
      font-family: 'Rajdhani', sans-serif;
      font-size: 1.3rem;
      font-weight: 600;
      letter-spacing: 1px;
      transition: all 0.4s cubic-bezier(0.2, 0.8, 0.3, 1);
      border: 1px solid rgba(30, 144, 255, 0.5);
      position: relative;
      overflow: hidden;
    }

    .nav-cta::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, 
        transparent, 
        rgba(30, 144, 255, 0.2), 
        transparent);
      transition: left 0.7s ease;
    }

    .nav-cta:hover::before {
      left: 100%;
    }

    .nav-cta:hover {
      transform: translateY(-3px);
      box-shadow: 
        0 15px 40px rgba(30, 144, 255, 0.3),
        0 0 60px rgba(30, 144, 255, 0.2);
      border-color: var(--earth-blue);
      background: rgba(20, 30, 48, 0.9);
    }

    .nav-icon {
      font-size: 1.4rem;
      transition: transform 0.5s;
    }

    .nav-cta:hover .nav-icon {
      transform: rotate(90deg) scale(1.2);
    }

    /* LOADING BAR */
    .loading-bar {
      position: fixed;
      top: 40px;
      left: 50%;
      transform: translateX(-50%);
      width: 400px;
      height: 6px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 3px;
      overflow: hidden;
      z-index: 10;
      opacity: 0;
      transition: opacity 0.5s;
    }

    .earth-container.zoom-in .loading-bar {
      opacity: 1;
    }

    .loading-progress {
      position: absolute;
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, var(--earth-blue), var(--indonesia-glow));
      border-radius: 3px;
      transition: width 3s cubic-bezier(0.2, 0.8, 0.3, 1);
    }

    /* ZOOMED VIEW */
    .zoomed-view {
      position: fixed;
      width: 100%;
      height: 100%;
      background: #000000;
      z-index: 5;
      opacity: 0;
      pointer-events: none;
      transition: opacity 2s;
    }

    .zoomed-view.active {
      opacity: 1;
      pointer-events: all;
    }

    .indonesia-map {
      position: absolute;
      width: 80%;
      height: 80%;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.5);
      background: 
        url('beranda-snapshot.png') center/cover,
        radial-gradient(circle at center, #0a3d62 0%, #000000 100%);
      border-radius: 20px;
      box-shadow: 
        0 0 200px rgba(30, 144, 255, 0.3),
        inset 0 0 100px rgba(255, 255, 255, 0.1);
      transition: transform 4s cubic-bezier(0.2, 0.8, 0.3, 1);
      opacity: 0;
    }

    .zoomed-view.active .indonesia-map {
      transform: translate(-50%, -50%) scale(1);
      opacity: 1;
    }

    /* RESPONSIVE */
    @media (max-width: 768px) {
      .earth-container {
        width: 300px;
        height: 300px;
      }
      
      .control-panel {
        min-width: 90%;
        padding: 20px;
        bottom: 30px;
      }
      
      .panel-title {
        font-size: 1.5rem;
      }
      
      .loading-bar {
        width: 80%;
      }
      
      .asteroid {
        pointer-events: none; /* Disable on mobile for better UX */
      }
    }

    /* REDUCED MOTION */
    @media (prefers-reduced-motion: reduce) {
      .earth,
      .asteroid,
      .star {
        animation: none !important;
      }
      
      .asteroid-hit,
      .nav-cta:hover {
        transition: none !important;
      }
    }
  </style>
</head>
<body>
  <!-- Starfield -->
  <div class="starfield" id="starfield"></div>
  
  <!-- Earth Container -->
  <div class="earth-container" id="earthContainer">
    <div class="earth" id="earth"></div>
    <div class="indonesia-highlight" id="indonesiaHighlight"></div>
  </div>
  
  <!-- Asteroids will be generated by JS -->
  
  <!-- Zoomed View (Initially Hidden) -->
  <div class="zoomed-view" id="zoomedView">
    <div class="indonesia-map"></div>
  </div>
  
  <!-- Loading Bar -->
  <div class="loading-bar">
    <div class="loading-progress" id="loadingProgress"></div>
  </div>
  
  <!-- Control Panel -->
  <div class="control-panel">
    <h1 class="panel-title">Geoportal Bumiayu Pruwatan</h1>
    <p class="panel-subtitle">Navigate through space to explore geographic data</p>
    
    <button class="nav-cta" id="navigateBtn">
      <span class="nav-icon">üöÄ</span>
      Navigate to Indonesia
      <span class="nav-icon">‚áù</span>
    </button>
  </div>

  <script>
    (function() {
      // Get elements
      const earthContainer = document.getElementById('earthContainer');
      const earth = document.getElementById('earth');
      const starfield = document.getElementById('starfield');
      const navigateBtn = document.getElementById('navigateBtn');
      const loadingProgress = document.getElementById('loadingProgress');
      const indonesiaHighlight = document.getElementById('indonesiaHighlight');
      const zoomedView = document.getElementById('zoomedView');
      
      // Create starfield
      for (let i = 0; i < 150; i++) {
        const star = document.createElement('div');
        star.className = 'star';
        
        const size = Math.random() * 2 + 0.5;
        const x = Math.random() * 100;
        const y = Math.random() * 100;
        const duration = Math.random() * 4 + 2;
        const delay = Math.random() * 5;
        
        star.style.width = `${size}px`;
        star.style.height = `${size}px`;
        star.style.left = `${x}%`;
        star.style.top = `${y}%`;
        star.style.setProperty('--duration', `${duration}s`);
        star.style.animationDelay = `${delay}s`;
        star.style.opacity = Math.random() * 0.7 + 0.3;
        
        starfield.appendChild(star);
      }
      
      // Create Earth details
      function createEarthDetails() {
        // Continents (simplified)
        const continents = [
          { width: '25%', height: '40%', left: '30%', top: '30%', color: 'var(--earth-green)' },
          { width: '15%', height: '30%', left: '15%', top: '50%', color: 'var(--earth-brown)' },
          { width: '20%', height: '35%', left: '60%', top: '40%', color: 'var(--earth-green)' },
          { width: '12%', height: '25%', left: '75%', top: '55%', color: 'var(--earth-green)' } // Asia/Indonesia area
        ];
        
        continents.forEach(continent => {
          const continentEl = document.createElement('div');
          continentEl.className = 'earth-continent';
          continentEl.style.width = continent.width;
          continentEl.style.height = continent.height;
          continentEl.style.left = continent.left;
          continentEl.style.top = continent.top;
          continentEl.style.background = continent.color;
          earth.appendChild(continentEl);
        });
        
        // Clouds
        for (let i = 0; i < 8; i++) {
          const cloud = document.createElement('div');
          cloud.className = 'earth-cloud';
          
          const size = Math.random() * 60 + 30;
          const x = Math.random() * 100;
          const y = Math.random() * 100;
          
          cloud.style.width = `${size}px`;
          cloud.style.height = `${size * 0.6}px`;
          cloud.style.left = `${x}%`;
          cloud.style.top = `${y}%`;
          cloud.style.animation = `moveCloud ${30 + Math.random() * 30}s linear infinite`;
          
          earth.appendChild(cloud);
        }
        
        // Add cloud animation
        const styleSheet = document.createElement('style');
        styleSheet.textContent = `
          @keyframes moveCloud {
            0% { transform: translateX(0); }
            100% { transform: translateX(100px); }
          }
        `;
        document.head.appendChild(styleSheet);
      }
      
      // Create asteroids
      function createAsteroids(count) {
        for (let i = 0; i < count; i++) {
          setTimeout(() => {
            const asteroid = document.createElement('div');
            asteroid.className = 'asteroid';
            
            const size = Math.random() * 40 + 20;
            const startX = Math.random() * 100;
            const startY = Math.random() * 100;
            const speed = Math.random() * 2 + 1;
            const angle = Math.random() * Math.PI * 2;
            
            asteroid.style.setProperty('--size', `${size}px`);
            asteroid.style.left = `${startX}%`;
            asteroid.style.top = `${startY}%`;
            asteroid.dataset.speed = speed;
            asteroid.dataset.angle = angle;
            
            // Add random rotation
            asteroid.style.animation = `rotateAsteroid ${5 + Math.random() * 10}s linear infinite`;
            
            // Add click handler
            asteroid.addEventListener('click', handleAsteroidClick);
            
            document.body.appendChild(asteroid);
            
            // Start movement
            moveAsteroid(asteroid);
            
          }, i * 500); // Stagger creation
        }
        
        // Add rotation animation
        const asteroidStyleSheet = document.createElement('style');
        asteroidStyleSheet.textContent = `
          @keyframes rotateAsteroid {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
          }
        `;
        document.head.appendChild(asteroidStyleSheet);
      }
      
      // Move asteroid in random direction
      function moveAsteroid(asteroid) {
        let x = parseFloat(asteroid.style.left);
        let y = parseFloat(asteroid.style.top);
        let speed = parseFloat(asteroid.dataset.speed);
        let angle = parseFloat(asteroid.dataset.angle);
        
        function updatePosition() {
          // Update position
          x += Math.cos(angle) * speed;
          y += Math.sin(angle) * speed;
          
          // Bounce off edges
          if (x < 0 || x > 100) {
            angle = Math.PI - angle;
            x = x < 0 ? 0 : 100;
          }
          
          if (y < 0 || y > 100) {
            angle = -angle;
            y = y < 0 ? 0 : 100;
          }
          
          // Apply new position
          asteroid.style.left = `${x}%`;
          asteroid.style.top = `${y}%`;
          
          // Continue animation if asteroid is still active
          if (!asteroid.classList.contains('asteroid-hit')) {
            requestAnimationFrame(updatePosition);
          }
        }
        
        updatePosition();
      }
      
      // Handle asteroid click
      function handleAsteroidClick(e) {
        const asteroid = e.target;
        
        // Don't trigger if already hit
        if (asteroid.classList.contains('asteroid-hit')) return;
        
        // Mark as hit
        asteroid.classList.add('asteroid-hit');
        
        // Random fly away direction
        const flyX = (Math.random() - 0.5) * 400;
        const flyY = (Math.random() - 0.5) * 400;
        
        asteroid.style.setProperty('--fly-x', `${flyX}px`);
        asteroid.style.setProperty('--fly-y', `${flyY}px`);
        
        // Remove after animation
        setTimeout(() => {
          if (asteroid.parentNode) {
            asteroid.parentNode.removeChild(asteroid);
          }
        }, 1500);
      }
      
      // Navigate to Indonesia
      function navigateToIndonesia() {
        // Disable button during animation
        navigateBtn.disabled = true;
        
        // Stop Earth rotation and zoom
        earth.style.animation = 'none';
        earthContainer.classList.add('zoom-in');
        
        // Calculate rotation to show Indonesia (approx 110¬∞ E)
        // Since Earth starts at 0¬∞ and Indonesia is at ~110¬∞ East
        const indonesiaRotation = 110; // degrees
        
        // Rotate Earth to show Indonesia
        earth.style.transform = `rotateY(${indonesiaRotation}deg)`;
        
        // Zoom in
        setTimeout(() => {
          earthContainer.style.transform = 'translate(-50%, -50%) scale(2.5)';
          
          // Show loading progress
          setTimeout(() => {
            loadingProgress.style.width = '100%';
            
            // After loading complete, show zoomed view
            setTimeout(() => {
              zoomedView.classList.add('active');
              
              // After showing Indonesia view, redirect to Beranda
              setTimeout(() => {
                window.location.href = './Beranda/';
              }, 3000); // 3 seconds to view Indonesia
              
            }, 1000); // Wait for loading bar to complete
          }, 500);
        }, 1000); // Wait for Earth to rotate
      }
      
      // Initialize
      createEarthDetails();
      createAsteroids(12); // Create 12 asteroids
      
      // Event listeners
      navigateBtn.addEventListener('click', navigateToIndonesia);
      
      // Keyboard navigation
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          navigateBtn.click();
        }
        if (e.key === 'Escape') {
          window.location.href = './Beranda/';
        }
      });
      
      // Focus management
      navigateBtn.focus({ preventScroll: true });
      
      navigateBtn.addEventListener('focus', () => {
        navigateBtn.style.outline = '2px solid var(--earth-blue)';
        navigateBtn.style.outlineOffset = '4px';
      });
      
      navigateBtn.addEventListener('blur', () => {
        navigateBtn.style.outline = 'none';
      });
      
      // Auto-navigate after 45 seconds (increased for viewing)
      setTimeout(() => {
        if (!earthContainer.classList.contains('zoom-in')) {
          navigateToIndonesia();
        }
      }, 45000);
      
      // Create occasional new asteroids
      setInterval(() => {
        // Count current asteroids
        const asteroidCount = document.querySelectorAll('.asteroid:not(.asteroid-hit)').length;
        
        // Add more if we're running low
        if (asteroidCount < 6) {
          createAsteroids(3);
        }
      }, 10000);
      
    })();
  </script>
</body>
</html>
